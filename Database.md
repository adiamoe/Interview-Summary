# 数据库

#### 查找树

用B树的优点，降低树的深度，减少读取磁盘的次数，提升查找效率

##### B树

关键字集合分布在整棵树中，搜索可能在非叶子结点结束

##### B+树

非叶子结点仅用于索引，所有数据都保存在叶子节点。叶子节点之间存在链接指针，便于区间查找和遍历

##### B+树比B树更适合作为文件索引

优点：

1. B+树磁盘读写代价更低

    B+tree的内部结点并没有指向关键字具体信息的指针。因此其内部结点相对B树更小。如果把所有同一内部结点的关键字存放在同一盘块中，那么盘块所能容纳的关键字数量也越多。一次性读入内存中的需要查找的关键字也就越多。相对来说IO读写次数也就降低了。

2. B+tree的查询效率更加稳定

3. B树在提高了磁盘IO性能的同时并没有解决元素遍历的效率低下的问题。

缺点：

B树的每一个节点都包含key和value，因此经常访问的元素可能离根节点更近，因此访问也更迅速。

##### LSM树

Log-Structured MergeTree 和文件系统中的LSF类似：

copy on write（写时复制），对过去的数据不进行修改

假定内存足够大，可以将最新的数据驻留在内存中，等到积累到足够多之后再使用归并排序将内存中的数据追加到磁盘。每次写入都会有一个小的结构（SSTable），在查询的时候需要从最新的SSTable中依次查询数据（因为不知道在哪个中）

牺牲了部分读的性能，换取大幅提高写性能。

可以用布隆过滤器和合并方式优化性能。

##### 跳表

多层索引链表，查找和插入时间复杂度为O(logn)

#### 事务

ACID: Atomicity, Consistency, isolation, durability

