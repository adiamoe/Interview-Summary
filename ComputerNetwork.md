# 计算机网络

#### [HTTP1.0、1.1 和2.0 的区别](https://www.cnblogs.com/heluan/p/8620312.html)

1. HTTP1.0: 浏览器与服务器只保持短暂的连接，浏览器的每次请求都建立TCP连接
2. HTTP1.1: 支持持久连接，在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的开销和延迟
3. HTTP2.0: 支持多路复用，可以在一个TCP连接上并行执行多个请求

#### HTTP和HTTPS

1. HTTPS协议需要用到证书
2. HTTPS运行在SSL/TSL/TCP上，所有传输内容都是经过加密的
3. 端口不同，前者是80，后者是443

#### TCP长连接(Keepalive)

防止某一端崩溃后，另一端依然维持连接造成系统资源的浪费。

当一个 TCP 连接建立之后，启用 TCP Keepalive 的一端便会启动一个计时器，当这个计时器数值到达 0 之后，一个 TCP 探测包便会被发出。这个 TCP 探测包是一个纯 ACK 包，其 Seq号与上一个包是重复的，所以其实探测保活报文不在窗口控制范围内。

1. 若客户主机正常运行，TCP响应正常，服务器保持连接，重设计时器
2. 连续试探后无响应，中断连接
3. 客户机崩溃后重新启动，服务器收到响应中断连接

可能导致的问题：

1. 可能因为短暂的网络波动而断开健康的连接
2. 需要消耗额外的带宽和流量
3. 在流量计费的环境中增加了开销

和HTTP长连接的区别：

HTTP目的是TCP连接复用，减少建立和中断的开销，TCP的目的是探测对端是否存活

#### [三次握手和四次挥手](https://www.cnblogs.com/heyonggang/p/11634228.html)

三次握手的作用：防止已失效的连接请求又传送到了B，产生资源浪费

四次挥手：

发送端：FIN-WAIT-1 FIN-WAIT-2 TIME-WAIT

接收端：CLOSE-WAIT LAST-ACK

TIME-WAIT状态需要等待2MSL后才能关闭，MSL:最长报文段寿命

1. 为了保证发送端发送的最后一个ACK报文段能够到达B，防止B超时重传的报文段没有收到。
2. 使本连接持续时间内所产生的所有报文段都从网络中消失，避免下一个连接收到旧的报文段

#### TCP如何保证可靠传输

1. 确认和重传
2. 数据校验
3. 流量控制
4. 拥塞控制
5. 对数据进行分片和排序

#### DDos及其防范

恶意用户利用大量主机持续向服务器请求链接，但不进行确认，使得服务器不能正常响应普通用户的请求。

1. 对大量请求的地址进行ip过滤
2. 限制SYN半链接打开的数目
3. 缩短SYN半链接Time out的时间